<?xml version="1.0" ?>
<model_container xmlns="http://www.power_systems_on_modelica.org/schema/dyd/1_0">
    <model type="Bus" id="DM{staticId}">
        <component name="iPSL.Electrical.Buses.Bus" id="bus_{staticId}">
            <ref name="V_0" dataSource="IIDM" sourceName="V_pu"/>
            <ref name="angle_0" dataSource="IIDM" sourceName="A"/>
        </component>
        <connector pin="p"/>
    </model>
    <model type="Line" id="DM{staticId}">
        <component name="iPSL.Electrical.Branches.PwLine_2" id="line_{staticId}">
            <ref name="R" dataSource="IIDM" sourceName="R_pu"/>
            <ref name="X" dataSource="IIDM" sourceName="X_pu"/>
            <ref name="G" dataSource="IIDM" sourceName="G1_pu"/>
            <ref name="B" dataSource="IIDM" sourceName="B1_pu"/>
        </component>
        <connector pin="p" target="DYNN:bus1:p"/>
        <connector pin="n" target="DYNN:bus2:p"/>
    </model>
    <model type="Load" id="DM{staticId}">
        <component name="iPSL.Electrical.Loads.Eurostag.PwLoadVoltageDependence" id="load_{staticId}">
            <ref name="V_0" dataSource="IIDM" sourceName="V_pu"/>
            <ref name="P_0" dataSource="IIDM" sourceName="P0"/>
            <ref name="Q_0" dataSource="IIDM" sourceName="Q0"/>
            <par type="STRING" name="alpha" value="1"/>
            <par type="STRING" name="beta" value="2"/>
            <ref name="angle_0" dataSource="IIDM" sourceName="A"/>
        </component>
        <connector pin="p" target="DYNN:bus:p"/>
    </model>
    <model type="Shunt" id="DM{staticId}">
        <component name="iPSL.Electrical.Banks.PwCapacitorBank" id="cap_{staticId}">
            <ref name="B" dataSource="IIDM" sourceName="B_pu"/>
            <ref name="nsteps" dataSource="IIDM" sourceName="MaximumSectionCount"/>
        </component>
        <connector pin="p" target="DYNN:bus:p"/>
    </model>
    <model type="Transformer" id="DM{staticId}">
        <component name="iPSL.Electrical.Branches.Eurostag.PwPhaseTransformer" id="trafo_{staticId}">
            <ref name="r" dataSource="IIDM" sourceName="ratio"/>
            <ref name="B0" dataSource="IIDM" sourceName="B_pu"/>
            <ref name="G0" dataSource="IIDM" sourceName="G_pu"/>
            <par type="STRING" name="theta" value="0.0"/>
            <ref name="R" dataSource="IIDM" sourceName="R_pu"/>
            <ref name="X" dataSource="IIDM" sourceName="X_pu"/>
        </component>
        <connector pin="p" target="DYNN:bus1:p"/>
        <connector pin="n" target="DYNN:bus2:p"/>
    </model>
    <association id="all_generators" pattern="^_GEN.*"/>
    <model association="all_generators" id="DM{staticId}">
        <component name="iPSL.Electrical.Machines.Eurostag.PwGeneratorM2S" id="gen_pwGeneratorM2S_{staticId}" parFile="params.par" parId="{staticId}_gen_pwGeneratorM2S"/>
        <component name="pssi3e2b" id="reg_pssi3e2b_{staticId}" parFile="params.par" parId="{staticId}_reg_pssi3e2b"/>
        <component name="sexs" id="reg_sexs_{staticId}" parFile="params.par" parId="{staticId}_reg_sexs"/>
        <component name="gsteam0" id="reg_gsteam0_{staticId}" parFile="params.par" parId="{staticId}_reg_gsteam0"/>
        <connector id="gen_pwGeneratorM2S_{staticId}" pin="sortie" target="DYNN:bus:p"/>
        <connector id="gen_pwGeneratorM2S_{staticId}" pin="omegaRef" target="DYNN:system:omegaRef"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_ActivePowerSN" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_ActivePowerSN"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_OMEGA" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_OMEGA"/>
        <connection id1="reg_sexs_{staticId}" var1="pin_EFD" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_EFD"/>
        <connection id1="reg_sexs_{staticId}" var1="pin_TerminalVoltage" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_TerminalVoltage"/>
        <connection id1="reg_gsteam0_{staticId}" var1="pin_CM" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_CM"/>
        <connection id1="reg_gsteam0_{staticId}" var1="pin_OMEGA" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_OMEGA"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_VS" id2="reg_sexs_{staticId}" var2="pin_VS"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_OMEGA" id2="reg_gsteam0_{staticId}" var2="pin_OMEGA"/>
    </model>
    <model association="all_generators" isInitialization="true" id="DM{staticId}">
        <component name="iPSL.Electrical.Machines.Eurostag.PwGeneratorM2S_Init" id="gen_pwGeneratorM2S_{staticId}" parFile="params.par" parId="{staticId}_gen_pwGeneratorM2S_Init"/>
        <component name="pssi3e2b_Init" id="reg_pssi3e2b_{staticId}" parFile="params.par" parId="{staticId}_reg_pssi3e2b_Init"/>
        <component name="sexs_Init" id="reg_sexs_{staticId}" parFile="params.par" parId="{staticId}_reg_sexs_Init"/>
        <component name="gsteam0_Init" id="reg_gsteam0_{staticId}" parFile="params.par" parId="{staticId}_reg_gsteam0_Init"/>
        <connector id="gen_pwGeneratorM2S_{staticId}" pin="sortie" target="DYNN:bus:p"/>
        <connector id="gen_pwGeneratorM2S_{staticId}" pin="omegaRef" target="DYNN:system:omegaRef"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_ActivePowerSN" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_ActivePowerSN"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_OMEGA" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_OMEGA"/>
        <connection id1="reg_sexs_{staticId}" var1="pin_EFD" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_EFD"/>
        <connection id1="reg_sexs_{staticId}" var1="pin_TerminalVoltage" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_TerminalVoltage"/>
        <connection id1="reg_gsteam0_{staticId}" var1="pin_CM" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_CM"/>
        <connection id1="reg_gsteam0_{staticId}" var1="pin_OMEGA" id2="gen_pwGeneratorM2S_{staticId}" var2="pin_OMEGA"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_VS" id2="reg_sexs_{staticId}" var2="pin_VS"/>
        <connection id1="reg_pssi3e2b_{staticId}" var1="pin_OMEGA" id2="reg_gsteam0_{staticId}" var2="pin_OMEGA"/>
    </model>
</model_container>
